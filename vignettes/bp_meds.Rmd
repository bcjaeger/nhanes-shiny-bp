---
title: "Antihypertensive medication use"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Antihypertensive medication use}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.height = 6,
  fig.width = 7.9,
  echo = FALSE
)
```

```{r setup}
library(cardioStatsUSA)
```

## Who is included in this analysis

adults with systolic blood pressure ≥ 130 or diastolic blood pressure ≥ 80.

## Proportion using antihypertensive medications 

### By calendar period

```{r}
nhanes_visualize(outcome = 'bp_med_use',
                 subset_variables = list('htn_accaha'),
                 subset_values = list('Yes'),
                 years = 'all')[[1]]
```

### By age group in 2017-2020.

```{r}
nhanes_visualize(outcome = 'bp_med_use',
                 exposure = 'demo_age_cat',
                 subset_variables = list('htn_accaha'),
                 subset_values = list('Yes'),
                 years = 'most_recent')[[1]]
```

### By sex in 2017-2020.

```{r}
nhanes_visualize(outcome = 'bp_med_use',
                 exposure = 'demo_gender',
                 subset_variables = list('htn_accaha'),
                 subset_values = list('Yes'),
                 years = 'most_recent')[[1]]
```

### By race/ethnicity in 2017-2020.

```{r}
nhanes_visualize(outcome = 'bp_med_use',
                 exposure = 'demo_race',
                 subset_variables = list('htn_accaha'),
                 subset_values = list('Yes'),
                 years = 'most_recent')[[1]]
```


## Number of antihypertensive medication classes 

All results presented are restricted to adults with systolic blood pressure ≥ 130 or diastolic blood pressure ≥ 80.

### By calendar period

```{r}
nhanes_visualize(outcome = 'bp_med_n_class',
                 subset_variables = list('htn_accaha'),
                 subset_values = list('Yes'),
                 years = 'all')[[1]]
```

### By age group in 2017-2020.

```{r}
nhanes_visualize(outcome = 'bp_med_n_class',
                 exposure = 'demo_age_cat',
                 subset_variables = list('htn_accaha'),
                 subset_values = list('Yes'),
                 pool = TRUE,
                 years = 'most_recent')[[1]]
```

### By sex in 2017-2020.

```{r}
nhanes_visualize(outcome = 'bp_med_n_class',
                 exposure = 'demo_gender',
                 subset_variables = list('htn_accaha'),
                 subset_values = list('Yes'),
                 pool = TRUE,
                 years = 'most_recent')[[1]]
```

### By race/ethnicity in 2017-2020.

```{r}
nhanes_visualize(outcome = 'bp_med_n_class',
                 exposure = 'demo_race',
                 subset_variables = list('htn_accaha'),
                 subset_values = list('Yes'),
                 pool = TRUE,
                 years = 'most_recent')[[1]]
```

